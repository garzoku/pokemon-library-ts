{"mappings":"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","sources":["dist/pokemon.js"],"sourcesContent":["\"use strict\";\nlet $main;\nlet $pokemon;\nlet $spinner;\ndocument.addEventListener('DOMContentLoaded', (event) => {\n    displayLoadingIcon();\n});\nif (typeof window !== undefined) {\n    $main = document.querySelector('main');\n    $pokemon = document.querySelector('#pokemon');\n    $spinner = document.createElement('img');\n}\nfunction addPokemon(pokemon, pokemonImage) {\n    const div = document.createElement('div');\n    div.innerHTML = `\n<div class=\"pokemon-details\">\n  <figure>\n    <img src=${pokemonImage} alt = ${capitalizeName(pokemon)} />\n    <figcaption>${capitalizeName(pokemon)}</figcaption>\n  </figure >\n\n  <h2>Abilities</h2>\n  <ul class=\"abilities\">\n    <li>\n      <span class=\"ability-name\"></span>\n      <span class=\"ability-short-description\"></span>\n    </li>\n    <li>\n      <span class=\"ability-name\"></span>\n      <span class=\"ability-short-description\"></span>\n    </li>\n    <li>\n      <span class=\"ability-name\"></span>\n      <span class=\"ability-short-description\"></span>\n    </li>\n  </ul>\n</div >\n    `;\n    $pokemon === null || $pokemon === void 0 ? void 0 : $pokemon.append(div);\n}\n//const url: URL = new URL(window.location.search)\n//console.log(url)\n//const queryString: URLSearchParams = new URLSearchParams(url.search)\n//console.log(queryString.get('pokemon'))\nif (typeof window !== undefined) {\n    fetch(`https://pokeapi.co/api/v2/pokemon/${localStorage.getItem(\"pokemon\")}`)\n        .then(response => response.json())\n        .then((parsedResponse) => {\n        const pokemon = parsedResponse;\n        addPokemon(pokemon.name, pokemon.sprites.front_default);\n        console.log(pokemon);\n        const abilityNames = pokemon.abilities\n            .map(element => element.ability.name);\n        setAbilityNames(abilityNames);\n        const requests = pokemon.abilities\n            .map(element => element.ability)\n            .map(object => {\n            return window.fetch(object.url)\n                .then(response => response.json());\n        });\n        return Promise.all(requests);\n    }).then(response => {\n        const savedResponse = response;\n        const descriptions = [];\n        for (const object of savedResponse) {\n            for (const array of object.effect_entries) {\n                if (array.language.name === 'en') {\n                    descriptions.push(array.short_effect);\n                }\n            }\n        }\n        setAbilityDescription(descriptions);\n        $spinner.classList.add('hidden');\n    });\n}\nfunction setAbilityNames(names) {\n    const $abilityNames = document.querySelectorAll('.ability-name');\n    for (let i = 0; i < names.length; i++) {\n        $abilityNames[i].textContent = capitalizeName(names[i]);\n    }\n}\nfunction setAbilityDescription(abilitiesArray) {\n    const $lis = document.querySelectorAll('li');\n    const $abilityDescrip = document.querySelectorAll('.ability-short-description');\n    for (let i = 0; i < abilitiesArray.length; i++) {\n        $abilityDescrip[i].textContent = capitalizeName(abilitiesArray[i]);\n        if (abilitiesArray.length < $abilityDescrip.length) {\n            const difference = $abilityDescrip.length - abilitiesArray.length; // 2\n            let index = $abilityDescrip.length - 1;\n            for (let j = 0; j < difference; j++) {\n                $lis[index].remove();\n                index--;\n            }\n        }\n    }\n}\nfunction displayLoadingIcon() {\n    $spinner.classList.add('spinner');\n    $spinner.src = 'images/loading-icon.gif';\n    $main === null || $main === void 0 ? void 0 : $main.append($spinner);\n}\nfunction capitalizeName(name) {\n    return `${name.slice(0, 1).toUpperCase()}${name.slice(1, name.length)}`;\n}\n"],"names":[],"version":3,"file":"pokemon.efaa4fc0.js.map","sourceRoot":"/__parcel_source_root/"}